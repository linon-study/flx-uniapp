{"version":3,"sources":["webpack:///D:/project/weixin/flx-uniapp/main.js","webpack:///D:/project/weixin/flx-uniapp/components/login/PhoneNumLogin.vue?7797","webpack:///D:/project/weixin/flx-uniapp/components/login/PhoneNumLogin.vue?bb8d","webpack:///D:/project/weixin/flx-uniapp/components/login/PhoneNumLogin.vue?9626","webpack:///D:/project/weixin/flx-uniapp/components/login/PhoneNumLogin.vue?283c","webpack:///D:/project/weixin/flx-uniapp/components/login/PhoneNumLogin.vue","webpack:///D:/project/weixin/flx-uniapp/components/login/PhoneNumLogin.vue?51c8","webpack:///D:/project/weixin/flx-uniapp/components/login/PhoneNumLogin.vue?fd9e"],"names":["createPage","Page","data","defaults","verifyText","disable","mobile","verify_code","computed","methods","onKeyMobileInput","event","detail","value","onKeyCodeInput","inputTapCode","loginRules","name","required","type","errmsg","valLoginRes","$validate","validate","isOk","uni","showToast","icon","title","_this","timelength","intervalId","setInterval","$set","clearInterval","params","getApp","globalData","appId","getSmsCodeAction","formSubmit","console","log","smsCode","tokens","tenant","user","id","wx_open_id","getBindMobileAction","then","code","message","duration","navigateBack","delta"],"mappings":"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","file":"components/login/PhoneNumLogin.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './components/login/PhoneNumLogin.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./PhoneNumLogin.vue?vue&type=template&id=78340f2c&\"\nimport script from \"./PhoneNumLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./PhoneNumLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PhoneNumLogin.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\安装包\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('78340f2c', component.options)\n    } else {\n      api.reload('78340f2c', component.options)\n    }\n    module.hot.accept(\"./PhoneNumLogin.vue?vue&type=template&id=78340f2c&\", function () {\n      api.rerender('78340f2c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"project/weixin/flx-uniapp/components/login/PhoneNumLogin.vue\"\nexport default component.exports","export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./PhoneNumLogin.vue?vue&type=template&id=78340f2c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./PhoneNumLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./PhoneNumLogin.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue'\nimport {\n\tmapState,\n\tmapActions,\n\tmapGetters,\n\tmapMutations\n} from 'vuex'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tdefaults: {\n\t\t\t\tverifyText: '获取验证码',\n\t\t\t\tdisable: false,\n\t\t\t\tmobile: '',\n\t\t\t\tverify_code: '',\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapState('authed', [\n\t\t\t'smsCode',\n\t\t\t'tokens',\n\t\t])\n\t},\n\n\tmethods: {\n\t\t...mapActions('authed', [\n\t\t\t'getSmsCodeAction',\n\t\t\t'getBindMobileAction',\n\t\t]),\n\n\t\tonKeyMobileInput: function(event) {\n\t\t\tthis.defaults.mobile = event.detail.value\n\t\t},\n\n\t\tonKeyCodeInput: function(event) {\n\t\t\tthis.defaults.verify_code = event.detail.value\n\t\t},\n\n\t\tinputTapCode: function(event) {\n\t\t\tif (this.defaults.disable) return;\n\n\t\t\tlet loginRules = [{\n\t\t\t\tname: 'mobile',\n\t\t\t\trequired: true,\n\t\t\t\ttype: 'phone',\n\t\t\t\terrmsg: '请输入正确的手机号'\n\t\t\t}, ]\n\t\t\tlet valLoginRes = this.$validate.validate({\n\t\t\t\tmobile: this.defaults.mobile\n\t\t\t}, loginRules)\n\t\t\tif (!valLoginRes.isOk) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: valLoginRes.errmsg\n\t\t\t\t})\n\t\t\t\treturn false\n\t\t\t} else {\n\t\t\t\tlet _this = this\n\t\t\t\tlet timelength = 60;\n\t\t\t\tvar intervalId = setInterval(function() {\n\n\t\t\t\t\ttimelength = timelength - 1;\n\t\t\t\t\t_this.$set(_this.defaults, 'verifyText', timelength + 's后重发')\n\t\t\t\t\t_this.$set(_this.defaults, 'disable', true)\n\n\t\t\t\t\tif (timelength == 0) {\n\t\t\t\t\t\tclearInterval(intervalId);\n\t\t\t\t\t\t_this.$set(_this.defaults, 'verifyText', '获取验证码')\n\t\t\t\t\t\t_this.$set(_this.defaults, 'disable', false)\n\t\t\t\t\t}\n\t\t\t\t}, 1000);\n\n\t\t\t\tconst params = {\n\t\t\t\t\t\"mobile\": this.defaults.mobile,\n\t\t\t\t\t\"type\": \"bindmobile\",\n\t\t\t\t\t\"scope\": \"global_access:end_user,tenant:\" + getApp().globalData.appId\n\t\t\t\t}\n\t\t\t\tthis.getSmsCodeAction(params);\n\t\t\t}\n\t\t},\n\n\t\tformSubmit: function(event) {\n\t\t\tconsole.log(event)\n\t\t\tlet loginRules = [{\n\t\t\t\tname: 'mobile',\n\t\t\t\trequired: true,\n\t\t\t\ttype: 'phone',\n\t\t\t\terrmsg: '请输入正确的手机号'\n\t\t\t}, ]\n\t\t\tlet valLoginRes = this.$validate.validate(event.detail.value, loginRules)\n\t\t\tif (!valLoginRes.isOk) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: valLoginRes.errmsg\n\t\t\t\t})\n\t\t\t\treturn false\n\t\t\t} else {\n\t\t\t\tconsole.log(this)\n\t\t\t\tconsole.log(this.smsCode)\n\t\t\t\tconsole.log(this.defaults.verify_code)\n\n\t\t\t\tconst appId = getApp().globalData.appId;\n\t\t\t\tconst {\n\t\t\t\t\ttenant,\n\t\t\t\t\tuser\n\t\t\t\t} = this.tokens;\n\n\t\t\t\tconst params = {\n\t\t\t\t\t\"mobile\": this.defaults.mobile,\n\t\t\t\t\t\"sms_code\": this.defaults.verify_code,\n\t\t\t\t\t\"app_id\": appId,\n\t\t\t\t\t\"tenant_id\": tenant.id,\n\t\t\t\t\t\"source\": \"wx_app\",\n\t\t\t\t\t\"wx_open_id\": user.wx_open_id, //可选，如果传了，绑定到对应的微信号\n\t\t\t\t}\n\n\n\t\t\t\tthis.getBindMobileAction(params).then(data => {\n\t\t\t\t\tif (data && data.code >= 300) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: data.message,\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\tdelta: 2\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t}\n}\n","import mod from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./PhoneNumLogin.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../安装包/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./PhoneNumLogin.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}